<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>Hello React</title>
    <script src="https://fb.me/react-0.13.3.js"></script>
    <script src="https://fb.me/JSXTransformer-0.13.3.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
  </head>
  <body>
    <div id="content"></div>
    <script type="text/jsx">
      var data = [
        {
          author: "Pete Hunt", 
          text: "Bacon ipsum dolor amet filet mignon strip steak frankfurter turducken ground round. Beef pancetta chicken pork. "
        },
        {
          author: "Jordan Walke", 
          text: "Short loin bacon beef ribs shoulder tail landjaeger boudin. Beef ribs flank boudin, brisket bacon ground round strip steak pork belly porchetta jerky corned beef."
        },
        {
          author: "Jonny Walker", 
          text: "Venison tail picanha beef short loin kielbasa pork loin cupim leberkas doner pork belly jerky spare ribs bresaola chuck. Shoulder pig tri-tip filet mignon t-bone chuck doner turkey spare ribs."
        },
        {
          author: "Babilon Baker",
          text: "Pork loin ham tenderloin, short loin pig swine shankle tongue. Cupim tri-tip bresaola biltong swine meatloaf landjaeger venison flank."
        },
        {
          author: "Gabriel Adams",
          text: "Brisket pork spare ribs, t-bone turducken jerky flank. Sirloin prosciutto beef capicola beef ribs tongue porchetta alcatra. Short ribs pork swine fatback salami. Bresaola ground round hamburger boudin tongue. Turducken shank strip steak ground round sausage short ribs capicola turkey pig jerky short loin ball tip. Rump porchetta ribeye bacon andouille."
        },
        {
          author: "Samuel Jackson",
          text: "Leberkas bresaola short ribs, andouille capicola doner venison tail. Pancetta prosciutto picanha ham hock meatloaf ribeye. Venison porchetta alcatra capicola."
        }
      ];
      var CommentBox = React.createClass({
        render: function() {
          return (
            <div className="commentBox">
              <h1>Comments</h1>
              <CommentList data={this.props.data}/>
              <CommentForm />
            </div>
          );
        }
      });

      var CommentList = React.createClass({
        render: function() {
          var commentNodes = this.props.data.map(function(comment){
            return (
              <Comment author={comment.author}>
              {comment.text}
              </Comment>
            )
          });
          return (
            <div className="commentList">
              {commentNodes}
            </div>
          );
        }
      });

      var CommentForm = React.createClass({
        render: function() {
          return (
            <div className="commentForm">
              Hello world! I am a CommentForm
            </div>
          );
        }
      });

      var Comment = React.createClass({
        render: function () {
          var rawMarkup = marked(this.props.children.toString(), {sanitize: true});
          return (
            <div className="comment">
              <h2 className="commentAuthor">
                {this.props.author}
              </h2>
              <span dangerouslySetInnerHTML={{__html: rawMarkup}} />
            </div>
            );
        }
      });

      React.render(
        <CommentBox data={data}/>,
        document.getElementById('content')
      );
    </script>
  </body>
</html>